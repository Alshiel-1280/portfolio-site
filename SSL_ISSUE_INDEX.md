# SSL問題解決 - ドキュメントインデックス

## 🚨 緊急度順のガイド

### 🔴 最優先（今すぐ読む）

1. **[実行手順.md](./実行手順.md)**
   - 今すぐサーバーで実行すべき具体的な手順
   - 自動修正スクリプトの使い方
   - 5分で問題を解決

### 🟡 問題解決ガイド

2. **[QUICK_FIX.md](./QUICK_FIX.md)**
   - 5分でできるクイック修正ガイド
   - トラブルシューティングのコマンド集
   - チェックリスト付き

3. **[SSL_FIX_GUIDE.md](./SSL_FIX_GUIDE.md)**
   - 詳細なトラブルシューティング
   - 診断手順
   - 複数の修正方法

### 🟢 背景情報・理解

4. **[SSL_403_ERROR_SUMMARY.md](./SSL_403_ERROR_SUMMARY.md)**
   - 問題の全体像と原因
   - 技術的な詳細
   - 今後の予防策

### 🔵 参考情報

5. **[DEPLOY.md](./DEPLOY.md)** ※更新済み
   - VPSへのデプロイ全体の手順
   - SSL導入時の注意事項を追加

6. **[README.md](./README.md)** ※更新済み
   - プロジェクト全体の概要
   - SSL問題へのリンクを追加

---

## 🛠 実行スクリプト

### 自動修正スクリプト

- **[fix-ssl-403.sh](./fix-ssl-403.sh)**
  - SSL導入後の403エラーを自動修正
  - バックアップ、設定修正、再起動を自動実行
  - 所要時間: 約2-3分

### 診断スクリプト

- **[diagnose.sh](./diagnose.sh)**
  - サーバーの状態を総合的に診断
  - PM2, Nginx, SSL証明書などを確認
  - 詳細なログとレポートを出力

---

## 📋 使い方の流れ

```
1. 実行手順.md を読む
   ↓
2. サーバーにSSH接続
   ↓
3. fix-ssl-403.sh を実行
   ↓
4. ブラウザで確認
   ↓
5. 解決しない場合は diagnose.sh を実行
   ↓
6. QUICK_FIX.md または SSL_FIX_GUIDE.md を参照
```

---

## 🎯 各ドキュメントの対象読者

| ドキュメント | 対象 | 所要時間 |
|------------|------|----------|
| 実行手順.md | すぐに問題を解決したい人 | 5分 |
| QUICK_FIX.md | 迅速な修正が必要な人 | 5-10分 |
| SSL_FIX_GUIDE.md | 詳細に理解したい人 | 20-30分 |
| SSL_403_ERROR_SUMMARY.md | 背景を理解したい人 | 10分 |
| DEPLOY.md | これからデプロイする人 | 1-2時間 |

---

## 💡 よくある質問

### Q1: どのファイルから読めばいい？

**A**: まず **[実行手順.md](./実行手順.md)** を読んでください。

### Q2: 自動スクリプトは安全？

**A**: はい。スクリプトは以下を実行します：
- 設定ファイルのバックアップを自動作成
- Nginx設定の構文チェック
- エラーがあれば元に戻す

### Q3: 手動で修正したい場合は？

**A**: [実行手順.md](./実行手順.md) の「方法2: 手動で修正する」セクションを参照してください。

### Q4: 問題が解決しない場合は？

**A**: 以下の順で確認：
1. `diagnose.sh` を実行
2. [QUICK_FIX.md](./QUICK_FIX.md) のトラブルシューティングを確認
3. [SSL_FIX_GUIDE.md](./SSL_FIX_GUIDE.md) の詳細ガイドを参照

---

## 📞 サポート

### 診断情報の収集

```bash
# サーバーで実行
./diagnose.sh > diagnostic-report.txt
cat diagnostic-report.txt
```

### 重要なログファイル

```bash
# Nginxエラーログ
sudo tail -100 /var/log/nginx/error.log

# PM2ログ
pm2 logs portfolio --lines 50

# Nginxアクセスログ
sudo tail -50 /var/log/nginx/access.log
```

---

## 🔄 更新履歴

- **2025-10-16**: 初版作成
  - SSL導入後の403エラー対応ドキュメント一式
  - 自動修正スクリプト作成
  - 診断スクリプト作成

---

**作成日**: 2025年10月16日  
**ステータス**: 完成・実行待ち  
**次のアクション**: サーバーで `fix-ssl-403.sh` を実行

